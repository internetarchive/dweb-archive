!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1),e.exports=n(5)},function(e,t,n){"use strict";var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=(r(n(2)),r(n(3)));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=window.jQuery,c="www-"!==location.host.substr(0,4)?function(){}:console.log.bind(console);var d=function(){function e(){s(this,e)}return i(e,null,[{key:"tvAD",value:function(e){var t=l(e).parents(".shows"),n=void 0,a=void 0,i=void 0;if(t.length){var o=l(e).parent().find(".shows");if(o.length)return o.toggle(),!1;a=t.attr("data-chan"),i=l(e).text()}else{a=l(e).text(),n="menu-chan-".concat(a);var r=l("#"+n);if(r.length)return r.toggle(),!1}var s=location.href+"?channel="+a;return t.length&&(s+="&program=".concat(encodeURIComponent(i))),c(s),l.get(s,function(i){t.length?l(e).parent().append('<div data-chan="'+a+'" class="shows"><h5>Air date</h5><div>'+i+"</div></div>"):l(e).parent().append('<div id="'+n+'" data-chan="'+a+'" class="shows"><h4>Show</h4><div>'+i+"</div></div>")}),!1}},{key:"nav_tophat_setup",value:function(){l("#nav-tophat").length&&(e.isTouchDevice()?l("body").addClass("touch"):e.logoText(),l("#nav-tophat").on("show.bs.collapse",function(){return l("#navwrap1").addClass("hatted")}).on("hide.bs.collapse",function(){return l("#navwrap1").removeClass("hatted")}),l(".navbar a.navia-link").on("click",function(t){var n=!l("#nav-tophat-helper:visible").length,a=l("#nav-tophat").hasClass("in"),i=this,o=l(t.target).attr("data-top-kind")||l(t.currentTarget).attr("data-top-kind"),r=l(".navbar .dropdown-ia.hatted a").attr("data-top-kind");return n&&a&&r!==o||(l(".toprow").hide(),l(".toprow."+o).show()),a||(l("#nav-tophat").collapse("show"),e.tophat_dont_count_first_open?delete e.tophat_dont_count_first_open:"undefined"!=typeof archive_analytics&&archive_analytics.send_ping({kind:"event",ec:"page_action",ea:"nav_tophat_galactica",el:location.pathname,cache_bust:Math.random()})),void 0!==r&&c("isnow",r),c("shouldB",o),r===o?(l("#nav-tophat").collapse("hide"),!1):n&&a&&r!==o?(l("#nav-tophat").one("hidden.bs.collapse",function(){setTimeout(function(){return l(i).click()},100)}),l("#nav-tophat").collapse("hide"),!1):(l(".navbar .dropdown-ia").removeClass("hatted").has("."+o).addClass("hatted"),l("#nav-tophat").on("hidden.bs.collapse",function(){return l(".navbar .dropdown-ia").removeClass("hatted")}),l(document).one("click.tophat.nixer",function(e){var t=l(e.target);"nav-wb-url"!==t.attr("id")&&(t.is("a")||t.hasClass("item-img")||t.hasClass("item-ia")||l("#nav-tophat.in").collapse("hide"))}),!1)}))}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch}},{key:"footer",value:function(){e.isTouchDevice()||void 0===l.fn.tooltip||l('.navbar [data-toggle="tooltip"], .container-ia [data-toggle="tooltip"], #cols [data-toggle="tooltip"], #tvbanner [data-toggle="tooltip"]').tooltip({})}},{key:"wrapdark_watcher",value:function(){if(e.$sharedown||(e.$sharedown=l("#sharedown"),e.$wrapdark=l("#wrapdark")),e.wrapdark_watcher_ptr||(e.wrapdark_watcher_ptr=setInterval(e.wrapdark_watcher,1e3)),e.$sharedown.length&&e.$wrapdark.length){var t=e.$sharedown.offset().top+e.$sharedown.find(".panel-heading").innerHeight();parseInt(e.$wrapdark.css("height"),10)!==t&&(e.$wrapdark.css({height:t}).show(),c("       WRAPDARK-ED to ",t))}else clearInterval(e.wrapdark_watcher_ptr)}},{key:"mute_click",value:function(){var t=!l.cookie("unmute");if(this.emulator)this.emulator.setMute(!t);else{var n=jwplayer("jw6");if(n){var a=n.getVolume();a?(e.mute_click_prior_volume=a,n.setVolume(0)):n.setVolume(void 0===e.mute_click_prior_volume?100:e.mute_click_prior_volume)}}return l("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),t?l.cookie("unmute",1,{path:"/details",expires:30}):l.cookie("unmute",null,{path:"/details"}),!1}},{key:"emulate_setup",value:function(t){t.toString=function(){return t.identifier},e.emulator=new IALoader(l("#canvas").get(0),t,null,t.scale?parseFloat(t.scale):1,0===t.module.indexOf("dosbox")?"/images/dosbox.png":"/images/mame.png"),l("#theatre-ia .iconochive-unmute, #theatre-ia .iconochive-mute").hide(),l.cookie("unmute")?(l("#theatre-ia .iconochive-unmute").show(),e.emulator.unmute()):(l("#theatre-ia .iconochive-mute").show(),e.emulator.mute()),e.theatre_controls_position(),l(window).on("resize  orientationchange",function(){clearTimeout(e.theatre_controls_position_throttler),e.theatre_controls_position_throttler=setTimeout(e.theatre_controls_position,250)})}},{key:"emulate",value:function(){l(".ui-keyboard").prepend('\n      <button style="position:relative;top:-5px;right:-8px;" type="button" class="close"\n              onclick="$(\'.ui-keyboard\').removeClass(\'showing\').hide()" aria-hidden="true">\n        <span class="iconochive-remove-circle"></span></button>').appendTo(l("#emulate .posrel")).addClass("showing"),l("#jsmessSS").fadeOut("slow"),l("#canvasholder").css("visibility","visible"),e.emulator.start({hasCustomCSS:!0});var t=JSMESS||DOSBOX||!1;return t&&(canvas.webkitRequestFullScreen||canvas.mozRequestFullScreen||canvas.requestFullScreen)&&(l("#gofullscreen").on("click",function(){return Module.requestFullScreen(1,0)}),"onfullscreenchange"in document?document.addEventListener("fullscreenchange",t.fullScreenChangeHandler):"onmozfullscreenchange"in document?document.addEventListener("mozfullscreenchange",t.fullScreenChangeHandler):"onwebkitfullscreenchange"in document&&document.addEventListener("webkitfullscreenchange",t.fullScreenChangeHandler)),setTimeout(e.theatre_controls_position,100),setTimeout(e.theatre_controls_position,500),setTimeout(e.theatre_controls_position,3e3),setTimeout(e.theatre_controls_position,1e4),!1}},{key:"theatre_controls_position",value:function(e,t,n,a){var i=e,o=a&&!e;if(o||(e||(i=l("#canvas")),i.length)){var r=o?a:i.height(),s=o?n:i.width();o||void 0===t||l("#theatre-controls").offset({top:t});var d=Math.round((l("#theatre-ia-wrap").width()-l("#theatre-controls").width()-s)/2);c("width",s),c("right_gutter_width",d),l("#theatre-controls").css({height:r,visibility:"visible",right:Math.max(20,d/2)})}}},{key:"booksize",value:function(){if(l("#texty").length){e.theatresize();var t=l("#texty iframe"),n=function(){var e=l(t.get(0).contentDocument);return e.find("#BookReader").length>0&&(e.find("body, #BookReader").css("background-color","transparent"),!0)};if(!n())var a=setInterval(function(){n()&&clearInterval(a)},200);if(!(void 0!==l("#texty").data("lendable-book"))&&!e.booksize_controls_hidden){e.booksize_controls();var i=setInterval(function(){e.booksize_controls_hidden?clearInterval(i):e.booksize_controls()},200)}}}},{key:"booksize_controls",value:function(){var t=l("iframe:first");if(t.length){var n=l(t.get(0).contentDocument);if(n.length){if(!e.booksize_controls_hidden){if(!n.find("#BRnav").length)return void c("BOOK NOT READY YET");n.find("#BRtwopageview").length>0&&n.find("#BRnav").hide(),e.booksize_controls_hidden=!0,l("#texty iframe").css("visibility","visible"),c("BOOK CONTROLS HIDDEN!")}n.find("body, #BookReader").css("background-color","transparent");var a=n.find("#BRtwopageview, #BRpageview"),i=l(".navbar"),o=i.offset().top+i.height()+parseInt(l("#texty").css("padding-top"),10);e.theatre_controls_position(a,o),c("book top",t.offset().top+a.offset().top," -v- pegTop",o),l("#theatre-ia").css({overflow:"hidden"})}}}},{key:"popcornsize",value:function(){var t=function(){var e=l(window).height()-l("iframe:first").offset().top-100,t=l("#theatre-ia .row").outerWidth(),n={width:t,height:Math.min(e,9*t/16+43)};c("popcorn resize: ",n),l("iframe:first").css(n)};t(),l(window).on("resize  orientationchange",function(){clearTimeout(e.popcorn_throttler),e.popcorn_throttler=setTimeout(t,250)})}},{key:"theatresize",value:function(t){e.theatresize_maxheight||(e.theatresize_maxheight=null);var n=function(){var n=Math.min(l(window).width(),400),a=l(window).height()-l("#navwrap1").height()-100;e.theatresize_maxheight&&(a=Math.min(a,e.theatresize_maxheight)),a=Math.max(a,n);var i=Math.min(a,1e3);l("#theatre-ia-wrap").addClass("resized").css("height",i),t&&t(l("#theatre-ia-wrap").height())};n(),l(window).on("resize  orientationchange",function(){clearTimeout(e.theatresize_throttler),e.theatresize_throttler=setTimeout(n,250)})}},{key:"carouselsize",value:function(t,n){var a=l(t),i=a.find("img.carousel-image").map(function(e,t){var n=l.Deferred(),a=void 0;return t.complete?a=n.resolve(t.naturalHeight).promise():(t.addEventListener("load",function(){n.resolve(t.naturalHeight)}),a=n),a});l.when.apply(l,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i)).then(function(){var t=a.height(),i=Math.max.apply(Math,arguments);t>i&&(a.css("maxHeight",i),n&&(e.theatresize_maxheight=i,l(window).trigger("resize")))})}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jw6",t=jwplayer(e);t&&t.getState&&"playing"===t.getState().toLowerCase()&&t.pause()}},{key:"morf",value:function(t,n){var a=l(t).attr("href");n&&"-"===n[0]?l.cookie(n.substr(1).concat("A2Z"),1,{path:"/",expires:1}):n&&l.cookie(n.concat("A2Z"),null,{path:"/",expires:1});var i={selectorID:"morf-modal"},o="#"+i.selectorID,r=React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header modal-header-std"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"},React.createElement("span",{className:"iconochive-remove-circle"})),React.createElement("h2",{className:"modal-title"})),React.createElement("div",{className:"modal-body",id:i.selectorID.concat("-body")})));return l(o).length||l("body").prepend(l('<div id="'+i.selectorID+'" class="modal fade" role="dialog" aria-hidden="true"/>')),ReactDOM.render(r,l(o).get(0)),l(o).modal("show"),ReactDOM.render(React.createElement(e.MORFreact,{href:a}),l(o+"-body").get(0)),!1}},{key:"add2list",value:function(t){var n=l(t).attr("href");return l.get(n+"&headless=1&titlelist="+l(t).text(),function(n){e.modal_go(t,{title:"Add To List",headerClass:"modal-header-new-list",ignore_lnk:!0,auto_remove:!0,body:n})}),!1}},{key:"newlist",value:function(t){var n=l(t).attr("href");return l.get(n.concat("&headless=1"),function(n){e.modal_go(t,{title:"Create New List",headerClass:"modal-header-new-list",ignore_lnk:!0,body:n})}),!1}},{key:"newlist_submit",value:function(){var e=l("#new-list-form input[name=title]").val();if(!e.length)return alert("Please enter a title for your List"),!1;var t=e.replace(/[^a-zA-Z0-9_\-.]/g,"").replace(/^[_\-.]+/,"");return c(t),!!t.length||(alert("Please try another title that contains more alphanumeric characters"),!1)}},{key:"popover_menu",value:function(e,t){var n={trigger:"hover focus click",container:e,content:t.content,html:!0};t.title&&(n.title=t.title),t.placement&&(n.placement=t.placement),t.trigger&&(n.trigger=t.trigger),l(e).popover(n)}},{key:"date_switcher",value:function(e){var t="#date_switcher";l(t).tooltip({html:!0,trigger:"manual",placement:"bottom",title:e}).on("mouseenter focusin",function(){l(t).parent().find(".tooltip").length||l(this).tooltip("show")}),l(".sortbar").on("mouseleave",function(){c("not hovering sortbar anymore"),l(t).tooltip("hide")}),l(t).on("shown.bs.tooltip",function(){l(t).parent().find(".date_switcher").on("click",function(){l(this).parents(".tooltip").find(".date_switcher.in").removeClass("in"),l(this).addClass("in")})})}},{key:"tiles_to_list",value:function(){var t=e.selector(),n=l(t).first();c("lister() SELECTOR",t);var a=n.find(".results .item-ia:first   .C3").outerWidth(),i=n.find(".results .item-ia:first .C234").outerWidth(),o=i-a-20,r=Math.max(80,Math.round(.6*o)),s=Math.max(80,Math.round(.4*o));c("C3  ",a),c("C234",i),c("C2  ",r),c("C4  ",s),c(" ==> availWidth: ",o,"(",r,"+",s,")"),n.find(".results .item-ia .C2").css({width:r,"max-width":r}),n.find(".results .item-ia .C4").css({width:s,"max-width":s})}},{key:"lists_v_tiles_setup",value:function(e){var t=l.cookie("view-"+e),n=l.cookie("showdetails-"+e),a="showdetails"===n||null===n&&!1;if("lists"===t){if(a)return;l("body").removeClass("showdetails")}else l("body").removeClass("lists".concat(a?"":" showdetails")).addClass("tiles")}},{key:"showdetails_toggle",value:function(e,t){var n=l("body"),a=n.hasClass("showdetails")?"":"showdetails";c("showdetails_toggle() going to: ",a),l.cookie("showdetails-"+t,a,{path:"/",expires:30,domain:".archive.org"}),n.toggleClass("showdetails")}},{key:"tiles_toggle",value:function(t,n){var a=l("body"),i=a.hasClass("tiles")?"lists":"tiles";return c("tiles_toggle() going to",i),a.removeClass("lists tiles").addClass(i),e.tiler(),l.cookie("view-"+n,i,{path:"/",expires:30,domain:".archive.org"}),!1}},{key:"selector",value:function(){var e=l(".welcome .tabby.in .tabby-text").first().text().toLowerCase().trim();if("forum"===e||"posts"===e||"about"===e)return!1;var t=!1;if(e){c("inTab",e);var n="#tabby-"+e.replace(" ","-");if("collection"===e||"collections"===e||"uploads"===e||"reviews"===e||"web archives"===e)t="#".concat(l(n.concat(" div.ikind.in:first")).attr("id"));else{var a=l(n.concat(" .ikind.stealth.in:first")).text().toLowerCase().replace(/ /,"-");t="#ikind-"+e+(""===a?"":"-")+a}}else t="#ikind-".concat(l(".ikind.stealth.in:first").text().toLowerCase().replace(/ /,"-")),l(t).length||(t="#ikind-search");return c("SELECTOR",t),t}},{key:"tilebars",value:function(){l(".row .tilebars").find(".results").parents(".row").each(function(e,t){var n=!1;l(t).find(".results").each(function(e,t){l(t).show().css({visibility:"hidden"}),n||(n=l(t).offset()),l(t).offset().top!==n.top?l(t).hide():l(t).css({visibility:"visible"})})})}},{key:"parent_hover",value:function(e){e.find(".item-ia:not(.hov):not(.collection-ia):not(.account-ia)").addClass("hov").mouseover(function(e){return l(e.currentTarget).find(".item-parent").addClass("hoverin")}).mouseout(function(e){return l(e.currentTarget).find(".item-parent").removeClass("hoverin")})}},{key:"tiler",value:function(t,n){l("body").hasClass("tiles")||l("body").hasClass("showdetails")&&l(".sortbar input[name=showdetails]").prop("checked",!0);var a=t||e.selector();if(!1!==a){var i=l(a).first(),o=i.attr("id"),r=i.parents(".row");if(l("body").hasClass("tiles")){if(e.tilerPREV||(e.tilerPREV={winW:0,pad:0,nPerRow:1,gutter:17,tileWidth:e.TILE_WIDTH,unsourced:{},firstLeft:0},e.parent_hover(i)),l(window).width()!==e.tilerPREV.winW){r.css({"padding-left":"","padding-right":""}),e.tilerPREV.firstLeft=0;var s=r.find(".columns-facets:visible"),d=s.outerWidth()||0;d&&(d+=1+parseInt(s.css("padding-right"),10));var u=r.width()-d,f=u<400?5:17,h=l(".item-ia:first").outerWidth()>=e.TILE_WIDTH?e.TILE_WIDTH:e.TILE_WIDTH_SMALL,p=Math.max(1,Math.floor((u+f)/(h+f))),m=Math.max(0,u-p*(h+f)+f);c("tiling",o,"parentRowW",r.width(),"facetsWidth",d,"availWidth: ",u,"number per row",p,". ","With gutter margin",f,"had ",m,"extra pixels"),e.tilerPREV.pad=Math.round(m/2),e.tilerPREV.winW=l(window).width(),e.tilerPREV.nPerRow=p,e.tilerPREV.gutter=f,e.tilerPREV.tileWidth=h}e.tilerPREV.nPerRow>1?r.css({"padding-left":e.tilerPREV.pad,"padding-right":e.tilerPREV.pad}):e.tilerPREV.firstLeft=e.tilerPREV.pad;for(var v=0,g=[],b=0,y={0:0},w={0:e.tilerPREV.firstLeft},k=1;k<e.tilerPREV.nPerRow;k++)w[k]=w[k-1]+e.tilerPREV.gutter+e.tilerPREV.tileWidth,y[k]=0;e.tilerPREV.unsourced[o]||(c("unsourcing",o),i.find(".item-ia img[source]").each(function(e,t){l(t).attr({src:l(t).attr("source"),onError:'$(this).attr("src","/images/notfound.png")'}).removeAttr("source")}),e.tilerPREV.unsourced[o]=1),e.colPREV=-1,i.find(".item-ia").not(".mobile-header").css("visibility","hidden").each(function(t,n){var a=l(n),i=a.innerHeight(),o={},r=0;if(e.tilerPREV.nPerRow>1&&t>=e.tilerPREV.nPerRow){var s=(e.colPREV+1)%e.tilerPREV.nPerRow;r=s;for(var c=y[s]-i,d=0;d<e.tilerPREV.nPerRow;d++)if(d!==s&&c>y[d]){r=d;break}}else r=t%e.tilerPREV.nPerRow;e.colPREV=r,o.visibility="visible",o.top=y[r],o.left=w[r],y[r]+=i+30,b=Math.max(b,y[r]),a.css(o);var u=a.find(".item-img");u.length&&!a.find(".item-img").height()&&(v+=1,(u=a.attr("data-id"))&&g.push(u))}),c("maxtop",b),i.find(".results").css({height:b}),l("body").hasClass("manage")&&l(".item-ia:not(.removable)").addClass("removable").append('\n        <div class="xer" onclick="return AJS.unmanage(this)" title="remove item from being submitted to item management"></div>'),v&&!n&&(c(v," img (still w/o height); recall tiler(",a,")...",g.join(",")),clearTimeout(e.tiler_throttler),e.tiler_throttler=setTimeout(function(){return e.tiler(a,0)},1500))}else r.css({"padding-left":"","padding-right":""})}}},{key:"ikind",value:function(t,n){var a="#"+n;c("ikind",n),l(a).parent().find("div.ikind.in").hide(),l(a).removeClass("hidden").addClass("in").show(),l(a).parents(".tabby-data").find("a.ikind").removeClass("in"),l(t).addClass("in"),e.tiler(a);var i=l(a).parents(".tabby-data").find("select.ikind-mobile"),o=i.find("option:contains(".concat(l(t).text(),")")),r=i.find("option:selected");return o.text().trim()!==r.text().trim()&&(c("changing ikind mobile now to ",o.text()),e.ikind_mobile_change_ignore_next=!0,o.attr("selected","selected")),!1}},{key:"ikind_mobile_change",value:function(t){if(e.ikind_mobile_change_ignore_next)e.ikind_mobile_change_ignore_next=!1;else{var n=l(t).find("option:selected");c("ikind mobile changed to: ",n.text());var a=l(t).parents(".tabby-data").find("a.ikind");if(a.length||(a=l("body").find("a.ikind")),a.length){var i=a.filter(function(e,t){return l(t).text()===n.text()}).attr("href");c("goto",i),i&&("#"===i.substr(0,1)?l("a.ikind[data-id="+i.substr(1)+"]").click():location.href=i)}}}},{key:"popState",value:function(t){if(e.pushState=void 0!==history.pushState,c("popState(",t,") called, modern browser: ",e.pushState?"y":"n"),!t){var n=function(t){var n=e.arg("tab",!0);n=n?"#tabby-"+n+"-finder":t?"#tabby-"+t+"-finder":".tabby-default-finder",e.pushState&&c("goto tab: ",n," ################################################### STATE"),e.tabby_no_pushState_next_click=!0,l(n).click()};e.pushState&&l(window).on("popstate",function(){return n()}),n()}}},{key:"tabby",value:function(t,n){c("AJS.tabby()",n);var a=n.replace(/tabby-/,"").trim();if("uploads"===a||"reviews"===a||"collections"===a||"loans"===a||"web archives"===a)return!0;if(l(".tabby-data.in").removeClass("in").hide(),l("#"+n).removeClass("hidden").addClass("in").show(),l(".tabby").removeClass("in"),l(t).parents(".tabby").addClass("in"),e.tabby_no_pushState_next_click)delete e.tabby_no_pushState_next_click;else if(e.pushState&&void 0!==history.pushState){var i=l(t).attr("href"),o=location.href,r=location.protocol.concat("//",location.host,i);o!==r&&(c("pushState: ",i," ################################################### STATE"),history.pushState({},"",r))}return"collection"!==a&&"about"!==a||("about"===a&&e.grafs(),e.tiler()),!e.pushState}},{key:"colclick",value:function(e){var t=l(e),n=t.attr("data-id");n&&l("body").hasClass("tiles")&&!t.hasClass("removable")&&(location.href="/details/"+n)}},{key:"setUpRelatedItems",value:function(){var t=l("#also-found-result");if(0!==t.length){var n=l(window),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=void 0,i=void 0;return function(){for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];var l=+new Date;function c(){a=l,e.apply(n,r)}a&&l<a+t?(clearTimeout(i),i=setTimeout(c,t)):c()}}(function(){var i=l("#also-found"),o=i.offset().top,r=n.height(),s=o-r/2;n.scrollTop()+r>=s&&""===t.text()&&(i.find(".tilebars").show(),ReactDOM.render(React.createElement(e.LoadingMessage,{message:"Fetching items"}),t[0]),e.doWhenScrolledToRelatedSection().then(function(){return n.off("scroll",a)}))},100);n.scroll(a)}}},{key:"doWhenScrolledToRelatedSection",value:function(){var t=l("#also-found").data("identifier"),n=l("#also-found-result");return e.getRelatedItems(t).then(function(t){ReactDOM.render(React.createElement(e.RelatedItemSection,{dataHash:t}),n[0]),e.tilebars()}).catch(function(t){l("#also-found").show(),ReactDOM.render(React.createElement(e.ErrorMessage,{errorMsg:t.message}),n[0])})}},{key:"getRelatedItems",value:function(e,t){return new Promise(function(n,a){var i={size:t},o="https://be-api.us.archive.org/mds/v1/get_related/all/"+encodeURIComponent(e)+(t?"?"+l.param(i):""),r=[],s=!1;l.get(o,function(e){var t=[];try{0===(t=e.hits.hits).length&&(s=!0)}catch(e){s=!0}s?a(new Error("Similar items not found")):(t.forEach(function(e){var t=e._source,n={identifier:e._id,numReviews:0,lendingEnabled:!1,lendingAvailable:!1,loginRequired:!1,lendClass:"",favorite:0,creator:""};l.each(t,function(e,t){"downloads"===e&&(n.downloads=[t[0]]),"title"===e&&(n.title=[t[0]]),"mediatype"===e&&(n.mediatype=[t[0]]),"creatorSorter"===e&&t[0].replace(/\w\S*/g,function(e){n.creator+=e.charAt(0).toUpperCase()+e.substr(1).toLowerCase().concat(" ")}),"collection"===e&&(t.forEach(function(e){n.favorite+=(e.match(/fav-/g)||[]).length}),t.indexOf("loggedin")>0&&(n.loginRequired=!0)),"loans__status__status"===e&&(n.lendingEnabled=!0,"AVAILABLE"===t[0]?(n.lendingAvailable=!0,n.lendClass="lending-available"):n.lendClass="lending-checked-out"),"num_reviews"===e&&(n.numReviews=[t[0]])}),r.push(n)}),n(r))}).error(function(){a(new Error("Similar items not found"))})})}},{key:"list_remove_item",value:function(t){if(l("body").hasClass("lists")&&l(".tiles-button:visible").click(),t){var n=l(t).parents(".item-ia"),a=n.attr("data-id"),i=location.href.replace(/#.*$/,"").concat("?remove_item=",encodeURIComponent(a));n.attr("data-date")&&(i+="&data-date="+n.attr("data-date")),e.listkind&&(i+="&kind="+e.listkind),c("GET",i),l.get(i,function(t){c("GOT",i),c(t),n.remove(),e.tiler()})}else l(".item-ia .xer").length?(l(".item-ia").removeClass("removable"),l(".item-ia .xer").remove()):l(".item-ia").addClass("removable").append('<div onclick="AJS.list_remove_item(this)" class="xer" alt="remove this item from list" title="remove this item from list"></div>');return!1}},{key:"unmanage",value:function(e){return l(e).parent(".item-ia").next().remove(),l(e).parent(".item-ia").remove(),!1}},{key:"manage",value:function(){var e=l(".item-ia[data-id]").toArray().reduce(function(e,t){var n=l(t).attr("data-id");return"__mobile_header__"===n?e:e.concat(n,",")},"");if(c("MANAGE",e),""!==e){var t=l('\n        <form id="manage-ids" method="POST" action="/manage/"\n              style="visibility:hidden;position:absolute;top:0;left:0;width:1px;height:1px;">\n          <input type="text" name="identifier" value="'+e+'"/>\n        </form>');l("body").append(t),t.submit()}return!1}},{key:"head_img_dragdrop_setup",value:function(t){e.head_img_dragdrop_setup_done||(c("head_img_dragdrop_setup"),e.head_img_dragdrop_setup_done=!0,l("#file-dropper-wrap").bind("mouseenter",function(){c("enter"),e.head_img_replaceable(t),l("#file-dropper").show()}).bind("mouseleave",function(){c("ouddie"),e.file_picked||l("#file-dropper").hide()}),l("body").bind("dragover",function(n){return c("dragover"),n.stopPropagation(),n.preventDefault(),e.head_img_replaceable(t),l("#file-dropper").addClass("drag_over").show(),!1}),l("body").bind("dragleave",function(e){c("dragleave");var t=l("#file-dropper-wrap").is(":hover")||l("#file-dropper     ").is(":hover")||l("#file-dropper-img ").is(":hover"),n=e.pageX||e.originalEvent.pageX,a=e.pageY||e.originalEvent.pageY;if(!t){var i=l("#file-dropper-wrap"),o=i.offset(),r=o.left,s=o.top;n>=r&&n<=r+i.outerWidth()&&a>=s&&a<=s+i.outerHeight()&&(t=!0)}if(!t){var d=l("#file-dropper"),u=d.offset(),f=u.left,h=u.top;n>=f&&n<=f+d.outerWidth()&&a>=h&&a<=h+d.outerHeight()&&(t=!0)}t||l("#file-dropper").removeClass("drag_over").hide()}))}},{key:"head_img_replaceable",value:function(t){if(""===l("#file-dropper").html().trim()){l("#file-dropper").show().html('\n<div>\n<button id="file-cancel" type="button" class="close" data-dismiss="alert" aria-hidden="true"\n        title="cancel file upload" alt="cancel file upload">\n  &times;\n</button>\n<b>\n  <span style="font-size:40px; color:#aaa" class="iconochive-plus-circle" />\n</b><br/>\n<b>\n  Drag & Drop an image file here or\n</b>\n<button type="button" class="btn btn-info btn-xs" onclick="$(\'#file-selector\').click();">\n  Pick image to upload\n</button>\n<form method="POST" action="/services/post-file.php?submit=1&identifier='+t+'"\n      enctype="multipart/form-data" id="poster">\n  <div class="hidden">\n    <input id="file-selector" name="file" type="file" accept="image/*"/>\n  </div>\n  <input type="hidden" name="identifier" value="'+t+'"/>\n  <input id="file-submit" type="submit" name="submit" value="SUBMIT" class="btn btn-success"/>\n  <div id="file-uploading">\n    Uploading your file..\n  </div>\n</form>\n</div>'),l("#file-cancel").bind("click",function(t){return e.cancelFile(),t.stopPropagation(),t.preventDefault(),!1}),l.event.props.push("dataTransfer");l("#file-selector").bind("click",function(){e.file_picked="selected"}).bind("change",function(t){if(c("file dropdown selected!"),l("#file-submit, #file-cancel").show(),c(t),t.target&&t.target.files&&t.target.files.length){var n=a(t.target.files,1);e.file2post=n[0],e.previewFile()}}),l("#file-dropper").bind("drop",function(t){if(t.stopPropagation(),t.preventDefault(),c(t.dataTransfer.files),l("#file-dropper").removeClass("drag_over"),l("#file-submit, #file-cancel").show(),t.dataTransfer.files.length){e.file_picked="dropped";var n=a(t.dataTransfer.files,1);e.file2post=n[0],e.previewFile()}}),l("#poster").bind("focusin",function(e){c(e.type),l("#file-uploading").show()}).bind("submit",function(n){c("submit!"),l("#file-uploading").show();var a=function(){var n=!1;"undefined"==typeof XMLHttpRequest&&(n="browser appears to not have HTML5 functionality"),n||(n=e.badFile());var a=new XMLHttpRequest;if(n||(c(e.file2post),a.upload||(n="browser submit setup failed")),n)return n;c("post"),a.open("POST",location.protocol.concat("//",location.host,"/services/post-file.php?submit=1&identifier=",t,"&fname=",encodeURIComponent(e.file2post.name)),!1),a.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8"),a.send(e.file2post);var i=a.responseText,o=i.match(/SUCCESS \(task_id=(\d+)\)/);if(o&&o.length){var r=o[1];c("STALKING TASK_ID: ",r),l("#file-dropper").html("waiting for updates..");var s=!1;s=setInterval(function(){c("STALKING..."),l.ajax({type:"GET",url:"/catalog_status.php?where=task_id=".concat(r,"&rand=",Math.random()),dataType:"xml",success:function(e){c(e);var t={green:parseInt(l(e).find("wait_admin0").text(),10)||0,blue:parseInt(l(e).find("wait_admin1").text(),10)||0,red:parseInt(l(e).find("wait_admin2").text(),10)||0};c(t);var n=t.green+t.blue+t.red;l("#file-dropper").html("waiting for "+n+" tasks to run"),n?t.red&&(l("#file-dropper").html('<div class="alert alert-danger">status task failure -- an admin will need to resolve</div>'),clearInterval(s)):(c("task(s) done!"),clearInterval(s),l("#file-dropper").html("reloading page with your image"),location.href=location.href)}})},2e3)}else c(i);return c("post done"),""}();return""===a?(c("success!"),n.stopPropagation(),n.preventDefault(),!1):"dropped"!==e.file_picked||(e.cancelFile(),alert("Failure: "+a),n.stopPropagation(),n.preventDefault(),!1)});var n=l("#file-dropper-img").outerWidth(),i=l("#file-dropper-img").outerHeight(),o=l("#file-dropper").outerWidth(),r=l("#file-dropper").outerHeight();l("#file-dropper").css({left:Math.round((n-o)/2),top:Math.round((i-r)/2)}),e.ios&&(l("#file-dropper > form > div.hidden").removeClass("hidden"),l("#file-dropper > button").addClass("hidden"))}}},{key:"previewFile",value:function(){if(l("#file-dropper .uppreview").remove(),e.badFile())return e.cancelFile(),!1;if("undefined"==typeof FileReader)return!1;var t=new FileReader;return t.onload=function(e){c(e.target);var t=new Image;t.src=e.target.result,l("#file-dropper").append(t),l(t).addClass("uppreview")},c(e.file2post),t.readAsDataURL(e.file2post),!0}},{key:"cancelFile",value:function(){l("#file-dropper .uppreview").remove(),l("#file-dropper, file-submit, #file-cancel, #file-uploading").hide(),e.file_picked&&delete e.file_picked,e.file2post&&delete e.file2post}},{key:"badFile",value:function(){var t=!1;if(t||e.file2post||(t="file is missing"),!t&&e.file2post.size>8e6&&(t="file is over 8MB in size"),!t){var n=e.file2post.type.toLowerCase();"image/jpeg"!==n&&"image/png"!==n&&"image/gif"!==n&&(t="file not required format of JPEG or PNG or GIF")}return t&&alert(t),t}},{key:"drawPDF",value:function(e,t){var n="/download/".concat(e,"/",e,"_pdf.zip/",e,"_pdf/",e,"_"),a=!1,i=!1;for(var o in t){var r=o.substr(0,4);if(!1===i&&(i=r),i!==r){a=!0;break}}var s="",c=666;for(var d in t){var u=t[d].split(","),f=d.substr(0,4),h=parseInt(d.substr(4,2),10),p=parseInt(d.substr(6,2),10),m=f.concat("-",h),v=!1,g="";m!==c&&(g=1===h?"January":2===h?"February":3===h?"March":4===h?"April":5===h?"May":6===h?"June":7===h?"July":8===h?"August":9===h?"September":10===h?"October":11===h?"November":12===h?"December":void 0===h?"Single Page PDFs":"Unknown_".concat(h),a&&(g=f.concat(" ",g)),s+=s?"</div>\x3c!--mo--\x3e<br/>":"",s+='\n<a href="#'+g+","+f+'" onclick="$(\'#m'+m+'\').toggle(); return false">\n<span class="iconochive-folder" /> '+g+'\n</a>\n<div class="mo" id="m'+m+'">'),void 0!==p&&""!==p||(v=!0),s+=v?'<div class="day">':'\n<div class="day">\n<a href="#'+m+"-"+p+'"\n    onclick="$(\'#m'+m+"d"+p+'\').toggle();return false;">\n  <span class="iconochive-folder" /> '+p+'\n</a>\n<div class="pages" id="m'+m+"d"+p+'">';for(var b=1,y=void 0,w=void 0,k=0;k<u.length;k++){if(y=u[k])b>0&&(b=1-y),w=parseInt(y,10)+b,y=(y="0000".concat(y)).substr(y.length-4,4),s+='<a href="'+n.concat(y,".pdf")+'">['+w+"]</a> "}s+=v?"</div>":"</div>\x3c!--pages--\x3e</div>\x3c!--day--\x3e",c=m}s+="</div>\x3c!--mo--\x3e",l("#pdfs .replaced").html(s)}},{key:"grafs",value:function(){var t=l("#grafs1"),n=l("#grafs2");if(t.length&&void 0!==t.attr("data-id")){var a=t.attr("data-id");t.attr("data-id",null),c("loading grafs"),t.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show(),n.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show();l.get("/details/".concat(a,"&grafs=1&v=3"),function(e){var a=e.split("<h2>");a.length>=3&&(l("#activity-reviewsN").html(a[1]).parents(".activity-box").show(),l("#activity-forumN  ").html(a[2]).parents(".activity-box").show()),5===a.length?(t.html("<h2>"+a[3]),n.html("<h2>"+a[4])):(t.html("(graph data not available)"),n.html("(graph data not available)"))}),e.setUpTopRegionsTable()}}},{key:"quick_down",value:function(e,t){var n="#"+e;if(l(".format-group.in").length)l(".format-group").slideDown(400),setTimeout(function(){l(".format-group.in").removeClass("in"),l(".download-button").html("DOWNLOAD OPTIONS")},400),l(n).slideUp();else{var a=l(t).text(),i=l(n).parents(".format-group");l(".download-button").html(a.concat(" FILES")),i.addClass("in"),l(".format-group:not(.in)").slideUp(),l(n).slideDown()}return!1}},{key:"arg",value:function(e,t){for(var n=t&&""===location.search?location.href.slice(1).split("&"):location.search.slice(1).split("&"),a=0;a<n.length;a++)if(n[a].slice(0,n[a].indexOf("="))===e){var i=n[a].slice(n[a].indexOf("=")+1);return i.length>0?unescape(i).split(","):""}return""}},{key:"logoText",value:function(){var e=!1;l(".navbar-nav:first").on("mouseenter focusin",function(t){l(t.target).is("ul, .navbar-brand, .iconochive-logo, .logo-text-hider")&&(e=setTimeout(function(){l("#internet-archive").length?l("#internet-archive").fadeOut("slow",function(){l("#internet-archive").remove(),l("#exit-er").show()}):(l("#exit-er").hide(),l(".navbar-nav:first").prepend(l('\n<div id="internet-archive" class="hidden-xs logo-text-hider"\n  style="position:absolute; top:10px; width:100%; text-align:center;">\n<div class="topinblock logo-text-hider" style="width:100px; padding-left:10px;">\n  <div class="logo-text-hider"\n      style="display:none; width:85px; height:30px; background:transparent -35px top no-repeat url(/images/footer.png)" />\n</div><div class="topinblock logo-text-hider" style="width:35px;height:1px;" /><div class="topinblock logo-text-hider" style="width:100px;">\n  <div class="logo-text-hider" style="display:none; width:85px; height:30px; background:transparent -116px top no-repeat url(/images/footer.png)" />\n</div>\n</div>')),l("#internet-archive > div > div").fadeIn("slow"))},1e3))}).mouseleave(function(){e&&clearTimeout(e)})}},{key:"scrolled",value:function(){var t=l(window).scrollTop(),n=l(".more_search:visible");if(n.length){var a=n.offset().top+n.outerHeight()-l(window).height()-40;t>a&&(c("hit rock bottom > ",a),e.more_searching||l(".more_search:visible".concat(" > a")).click())}}},{key:"more_search",value:function(t,n,a){var i=e.selector();if(!1===i)return!1;var o=i.replace(/#ikind-/,""),r=l(i.concat(" .more_search")),s=i;if(void 0===e.page_map[s]&&(e.page_map[s]=a||1),e.page_map[s]<0)return!1;e.page_map[s]+=1;var d=e.page_map[s];r.find(".more-search-fetching").show(),e.more_searching=!0;var u=n+d,f=location.protocol.concat("//",location.host,u);return c("url: ",u+="&scroll=1"),c("urlreplace",f),c("more_search(selector=",i,"sort=",o,"page=",d,"url=",u,")"),l.get(u,function(t){if(t.length<100&&l(t).find("div.no-results"))return r.find(".more-search-fetching, a.btn").hide(),e.page_map[s]=-1,void(e.more_searching=!1);e.pushState&&void 0!==history.replaceState&&history.replaceState({},"",f);var n=l(i).attr("id");e.tilerPREV&&e.tilerPREV.unsourced&&e.tilerPREV.unsourced[n]&&delete e.tilerPREV.unsourced[n];var a=l(i.concat(" .results"));a.append(e.addNotes(e.addingNotesKind,t)),e.tiler(i),r.find(".more-search-fetching").hide(),e.more_searching=!1,e.parent_hover(a),l(i.concat(" img")).on("load",function(){clearTimeout(e.more_search_throttler),e.more_search_throttler=setTimeout(e.tiler,1e3)}),"undefined"!=typeof archive_analytics&&archive_analytics.send_scroll_fetch_event(d)}),!1}},{key:"embed_codes_adjust",value:function(){c("showing embeds!");for(var e=["embedcodehere","embedcodehereWP"],t=0;t<e.length;t++){var n=e[t],a=l("#"+n);a.removeAttr("rows").css("height","");var i=a.text();l("body").prepend(l("<div/>").attr({id:n+"Shadow",class:"textarea-invert-readonly roundbox5"}).css({position:"absolute",visibility:"hidden",top:60,left:10,padding:"5px 15px 5px 15px",width:a.width(),"font-size":a.css("font-size")}).text(i));var o=l("#"+n+"Shadow").outerHeight()+15;c(n,"bestie height",o,"for current width",a.width()),l("#"+n+"Shadow").remove(),a.height(o)}}},{key:"modal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prepend,n=void 0===t?"body":t,a=e.selector,i=void 0===a?"#my-modal":a,o=e.title,r=void 0===o?"confirmed":o,s=e.body,c=void 0===s?"":s,d=i.replace(/#/,"");l(i).remove(),l(n).prepend('\n<div id="'+d+'" class="modal fade" role="dialog" aria-hidden="true">\n<div class="modal-dialog modal-lg">\n  <div class="modal-content" style="padding:10px;">\n    <div class="modal-header">\n      <button\n        type="button"\n        class="close"\n        data-dismiss="modal"\n        aria-hidden="true">\n        <span class="iconochive-remove-circle" aria-hidden="true"></span><span class="sr-only">remove-circle</span></button>\n      <h3 class="modal-title">'+r+'</h3>\n    </div>\n    <div id="'+d+'-body">'+c+"</div>\n  </div>\n</div>\n</div>"),l(i).modal("show")}},{key:"_modal_add",value:function(e,t){if(c(t),!l(e).length){var n=e.replace(/#/,"");l("body").prepend('\n<div id="'+n+'" class="modal fade" role="dialog" aria-hidden="true">\n<div class="modal-dialog modal-lg">\n  <div class="modal-content">\n    <div class="modal-header '+(t.headerClass?t.headerClass:"modal-header-std")+'">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n        <span class="iconochive-remove-circle"></span>\n      </button>\n      <h2 class="modal-title">\n        '+(void 0===t.title?"Confirmed":t.title)+'\n      </h2>\n    </div>\n    <div id="'+n+'-body">\n      '+(void 0===t.body?"":t.body)+"\n    </div>\n  </div>\n</div>\n</div>")}}},{key:"modal_beta",value:function(t,n){var a=n;a.title="<center>Give Us Feedback!</center>",l.cookie("beta-modal","open",{path:"/",expires:1,domain:".archive.org"});var i=l(t).attr("data-target");return a.href=location.href,a.href=a.href.replace(/&ui3=1$/,""),a.href=a.href.replace(/\/v2$/,""),a.body='\n<style> #fback h4 { margin-top:30px; } </style>\n<div id="fback" style="padding:20px">\n  <a target="_blank" href="/details/v2tour20150420">\n    <div style="text-align:center; float:right">\n      <img src="/download/v2tour20150420/v2tour20150420.thumbs/April202015Tour_000375.jpg"/><br/>\n      TUTORIAL VIDEO\n    </div>\n  </a>\n  <div style="font-size:18px">\n    Please take a moment to give us feedback below.\n    We consider these comments as we make changes to the site.\n  </div>\n  <h5 style="display:none">\n    <br/><br/><br/>\n    THANK YOU for your valuable feedback!\n  </h5>\n  <form id="modal_beta_form" method="POST" action="/services/exit.php">\n    <input type="hidden" name="feedback_only" value="1"/><br/>\n\n    <h4>Feedback (details are helpful):</h4>\n    <textarea class="form-control input-sm" name="feedback" rows="4"></textarea>\n\n    <h4>May we contact you about your feedback?</h4>\n    <input type="radio" name="contact" value="yes"/> yes, here\'s my email address:<br/>\n    <input class="form-control input-sm" type="text" name="eml"/> <br/>\n    <input type="radio" name="contact" value="no"/> no<br/>\n    <hr style="border-color:black;background-color:black;color:black" />\n    You can use the classic version of archive.org for a limited period of time.<br/>\n    <a target="_blank" href="https://blog.archive.org/2014/11/05/redesign/">\n      Learn more\n    </a>\n    about why archive.org changed.<br/>',a.feedback_only?a.body+='\n        <input class="btn btn-primary" type="submit" style="margin-top:20px" value="Submit"/>':a.body+='\n        <input class="btn btn-primary" type="submit" style="margin-top:20px" value="Submit Feedback"/>\n        <input id="modal_beta_form_exit" class="btn" type="button" style="margin-top:20px" value="Exit to Classic Site"/>',a.body+='\n    <br/><br/>\n    <i>What\'s New?</i>\n    [\n      <a target="top" href="https://blog.archive.org/2015/02/12/whats-new-with-v2/">recent changes</a> |\n      <a target="top" href="/CHANGELOG.txt">detailed CHANGELOG</a>\n    ]\n  </form>\n</div>',e._modal_add(i,a),l("#modal_beta_form_exit").on("click",function(){l("#modal_beta_form input[name=feedback_only]").val(0),a.feedback_only=!1,a.exiting=!0,l("#modal_beta_form").submit()}),l("#modal_beta_form").on("submit",function(){return c("submit clicked!"),a.submitted=!0,a.postdata=l("#modal_beta_form").serialize(),l(i.concat(" h5")).fadeIn("slow"),l(i.concat(" form")).fadeOut("slow"),setTimeout(function(){l.post("/services/exit.php",a.postdata,function(){if(c("POSTED ",a.postdata),(!a.feedback_only||a.exiting)&&""===document.cookie)return c("EXITING BUT HAS NO COOKIES!"),void(location.href="/services/exit.php");l("body").removeClass("blurry"),l(i).modal("hide")})},2500),!1}),l(i).modal("show").on("hidden.bs.modal",function(){if(c("beta modal hidden"),l("body").removeClass("blurry"),!a.feedback_only&&a.exiting){var e=function(){a.submitted?(l(i).remove(),c("going to ",a.href),location.href=a.href):location.href="/services/exit.php"};"undefined"!=typeof archive_analytics?archive_analytics.send_ping({kind:"event",ec:"in_beta",ea:"exit",cache_bust:Math.random()},e):(c("uho analytics not defined!"),e())}else l(i).remove()}),!1}},{key:"isFavoriteSuccessful",value:function(e){return-1!==e.indexOf('<meta name="ia-favorite-success" content="1">')}},{key:"modal_go",value:function(t,n){var a=n;a.favorite&&(a.center=!0,a.auto_close=!0,a.title="Favorited",a.body='<center><span style="font-size:100px;" class="iconochive-favorite"></span></center>',a.login=!0);var i=l(t).attr("data-target"),o=l(t).attr("href");if(e._modal_add(i,a),a.shown&&l(i).on("shown.bs.modal",function(){a.shown()}),a.follow_link_on_dismiss&&l(i).on("hidden.bs.modal",function(){c("modal hidden, going to ",o,".."),l("body").removeClass("blurry"),location.href=o}),l(i).modal("show"),a.login&&null===l.cookie("logged-in-user")){if("https:"!==location.protocol)return location.href="https://archive.org/account/login.php",!1;var r="/account/login.php";return l.get(r,function(n){l(i.concat(" .modal-title")).text("Nearly there!  Please login first"),l(i).modal("show");var o=l(n).find(".container-ia > div").length?l(n).find(".container-ia > div").get(0):n;l(i.concat("-body")).html(o);var s=l(i.concat("-body form:has(input[type=submit])"));s.length&&s.on("submit",function(n){n.preventDefault(),n.stopPropagation();var o={};return s.find("input").each(function(e,t){l(t).attr("name").length&&(o[l(t).attr("name")]=l(t).val())}),l.post(r,o,function(){c("SUBMITTED"),null!==l.cookie("logged-in-user")?(l(i).on("hidden.bs.modal",function(){l(i).remove(),c("SUCCESS"),e.modal_go(t,a)}),l("body").removeClass("blurry"),l(i).modal("hide")):alert("Please try logging in again")}),!1})}),!1}if(a.auto_remove&&(a.auto_close=!0,l(i).on("hidden.bs.modal",function(){l(i).remove(),l("body").removeClass("blurry")})),a.ignore_lnk)l(i).modal("show");else{var s=t.href;l.get(s,function(t){if(a.favorite)if("undefined"!=typeof archive_analytics&&archive_analytics.send_ping({kind:"event",ec:"page_action",ea:"favorite",el:location.pathname,cache_bust:Math.random()}),e.isFavoriteSuccessful(t))l("#favorite-button").addClass("favorited");else{var n=l(i);n.find(".modal-title").html("Failed"),n.find("#confirm-modal-body").html('\n              <center>\n                <p class="favorite-failure-message">\n                  There was an error adding the favorite. If the problem persists, please contact support.\n                </p>\n              </center>\n            ')}l(i).modal("show"),a.auto_close&&setTimeout(function(){return l(i).modal("hide")},2e3)})}return a.center&&l(i.concat(" .modal-dialog")).center(),a.auto_close&&a.ignore_lnk&&setTimeout(function(){return l(i).modal("hide")},2e3),!1}},{key:"check1",value:function(e,t){e.checked&&((t?l(t):l(e).parents("form")).find("input[type=checkbox]").attr("checked",!1),e.checked=!0)}},{key:"addCommas",value:function(e){for(var t=(""+e).split("."),n=t[0],a=t.length>1?".".concat(t[1]):"",i=/(\d+)(\d{3})/;i.test(n);)n=n.replace(i,"$1,$2");return n+a}},{key:"suffixFmt",value:function(e,t){return t.min>=0&&t.max<=5?Math.round(10*e,1)/10:e>=1e6?(e/1e6).toFixed(0).concat(" M"):e>=1e3?(e/1e3).toFixed(0).concat(" K"):e.toFixed(0)}},{key:"suffixFmtPercent",value:function(t,n){return e.suffixFmt(t,n).concat("%")}},{key:"descript",value:function(){var e=l("#descript").get(0);e&&e.offsetHeight<e.scrollHeight&&l("#descript-more").show()}},{key:"plotter",value:function(t){if(void 0===e.plotters&&(e.plotters=[]),t)e.plotters.push(t),t();else{c("plotter() resize/orient change",e.plotters.length,"graphs to resize");for(var n=0;n<e.plotters.length;n++)e.plotters[n]()}}},{key:"plot",value:function(e,t,n,a,i){var o=t;o.xaxis||(o.xaxis={mode:"time",color:o.dark?"#ccc":"#545454"}),o.yaxis||(o.yaxis={color:o.dark?"#ccc":"#545454"});var r=void 0;r=i&&o.barWidth?1*o.barWidth:o.barWidth?86400*o.barWidth*1e3:86400*(o.dayBarsNoPoints?1:7)*1e3,o.series={bars:{show:!0,barWidth:r,fill:.6,color:"#385C74"},color:"#385C74",points:{show:!o.dayBarsNoPoints}},void 0===o.grid&&(o.grid={borderColor:o.dark?"#333":"#aaa",hoverable:!0}),o.dark&&(o.grid.backgroundColor="#002b36"),o.tip||(o.tip={}),o.tip.id||(o.tip.id=e),void 0===window.GraphPriorIndex&&(window.GraphPriorIndex={});var s=i?a:void 0===a.data?[{data:a}]:[a];o.dayBarsNoPoints&&!o.noLabel&&(s[0].label=e);var d="#"+e;l.plot(l(d),s,o),n&&l(d).bind("plothover",function(t,a,i){if(!i)return window.GraphPriorIndex[e]=-666,void l("#gtip").remove();if(window.GraphPriorIndex[e]!==i.dataIndex){window.GraphPriorIndex[e]=i.dataIndex,l("#gtip").remove();var r=n(i.datapoint[0],i.datapoint[1]),s=l(d),u=s.offset(),f=o.tip.pegTo;f||(f=a.pageX-u.left>s.width()/2?"right":"left");var h="right"===f?s.width()-(a.pageX-u.left-20):a.pageX-u.left+20;c(f,h),l("#"+o.tip.id).append('\n<div id="gtip" class="roundbox2"\nstyle="top:'+(a.pageY-u.top)+"px; "+f+":"+h+'px">'+r+"</div>")}})}},{key:"welcome_recolor",value:function(t){if("undefined"!=typeof ColorThief&&t.length&&!e.welcome_recolored){e.welcome_recolored=!0;var n=l(t)[0];c("welcome_recolor",n.src);var a=(new ColorThief).getPalette(n,5);if(c(a),a){var i=a[0];if(i){c(i);var o=Math.round(l(i).map(function(e,t){return t}).toArray().reduce(function(e,t){return e+t})/i.length),r=o>=128?"black":"white";c("avgVal",o),l(".welcome").css({color:r,"background-color":"rgb("+i.join(",")+")"}),l(".welcome .stealth:not(.tabby .stealth)").css({color:r})}}}}},{key:"makeMouseElementAccessible",value:function(e){l(e).attr("tabindex","0").on("keypress keydown",function(e){if("click"!==e.type){var t=e.keyCode||e.which;-1!==[32,13].indexOf(t)&&l(this).click()}})}},{key:"autocomplete",value:function(e,t,n){l(e).autocomplete({appendTo:"#autocompletee",minLength:0,source:function(e,n){n(l.ui.autocomplete.filter(t,e.term.split(/,\s*/).pop()))},focus:function(){return!1},select:function(e,t){if(n){var a=this.value.split(/,\s*/);a.pop(),a.push(t.item.value),a.push(""),this.value=a.join(", ")}else this.value=t.item.value;return!1}})}},{key:"addNotes",value:function(t,n){if("favorite"!==t&&"list"!==t)return n;if(!n&&l("body").hasClass("editable")&&(e.addingNotesKind=t),!e.addingNotesKind)return n;if(e.addNoteHTM=l('\n<div class="note">\n  <span class="edit">\n    <a href="#" onclick="return AJS.editNote(this)">Add a Note</a>\n  </span>\n</div>'),c("addNotes"),n){var a=l("<div>"+n+"</div>");return a.find('.details-ia .C234:not(:has(".note"))').append(e.addNoteHTM),a.html()}return l('.details-ia .C234:not(:has(".note"))').append(e.addNoteHTM)}},{key:"editNote",value:function(e){var t=l(e);if(!t.parents(".details-ia").prev().attr("data-id"))return!1;var n=t.parents(".note"),a="";return"edit"===t.text()&&(a=(a=n.find("span:first").text()).replace(/</g,"&lt;").replace(/>/g,"&gt;")),n.hide(),n.parent().append(l('\n<form class="form form-horizontal note" role="form" onsubmit="AJS.editedNote(this);return false">\n  <div class="form-group">\n    <div class="col-xs-2 col-md-1 col-lg-1">\n      <b>Note:</b>\n    </div>\n    <div class="col-xs-10 col-md-6 col-lg-7">\n      <textarea class="form-control" name="comments">'+a+'</textarea>\n      <div class="clearfix visible-xs-block"></div>\n    </div>\n    <div class="clearfix visible-xs-block"></div>\n    <div class="col-xs-12 col-md-5 col-lg-4 btns">\n      <button type="button" onclick="AJS.editedNote(this)" class="btn btn-success btn-xs">Save</button>\n      <button type="button" onclick="AJS.editedNote(this)" class="btn btn-info btn-cancel btn-xs">Cancel</button>\n      <button type="button" onclick="AJS.editedNote(this)" class="btn btn-danger btn-xs '+(a?"":"hidden")+'">Remove</button>\n    </div>\n  </div>\n</form>')),!1}},{key:"editedNote",value:function(t){var n=l(t),a=n.parents(".details-ia").prev().attr("data-id");if(a){n.is("form")&&(n=n.find('button:contains("Save")'));var i=n.text(),o=n.parents(".note"),r=o.prev();if("Save"===i||"Remove"===i){var s="Save"===i?o.find("textarea").val():"",d="/bookmarks.php?identifier=".concat(a,"&kind=",e.addingNotesKind,"&add_comment=",encodeURIComponent(s));return c("get ",d),void l.get(d,function(){var t=s?'Note: "<span>'+s.replace(/</g,"&lt;").replace(/>/g,"&gt;")+'</span>"\n          <span class="edit">(<a href="#" onclick="return AJS.editNote(this)">edit</a>)</span>':e.addNoteHTM.html();r.html(t).show(),o.remove()})}r.show(),o.remove()}}},{key:"thumbzilla",value:function(t){var n=l("body").hasClass("tv");n&&TV2.unplay("thumbzilla");var a="";if(l(e.thumbzillas).each(function(e,i){var o=parseInt(i,10);if(n){var r="/start/"+o+"/end/"+(o+TV3.CLIP_SEC_MAX2);a+="<a onclick=\"$('#opscreen1M').fadeOut('slow'); TV2.seekURL('"+r+'\')" href="'+r+'">'}else{a+="<a onclick=\"$('#opscreen1M').fadeOut('slow'); return Play.seek(this)\" href=\""+("/details/"+t+"&start="+o)+'">'}a+='<img src="/download/'+t+"/"+t+".thumbs/"+t+"_"+i+'.jpg"/></a>'}),""===a)return alert("coming soon!"),!1;l("#opscreen1M").remove(),l("body").prepend(l("<div />").attr({id:"opscreen1M"})),l("<div/>").attr({id:"thumbzilla"}).html("<div>"+a+"</div>").appendTo("#opscreen1M"),l("#opscreen1M").css("visibility","hidden").show();for(var i=l(window).height()+(e.ios?60:0),o=160;o>=10;o-=10){var r=Math.round(.6875*o);if(c("TRYING",o,"x",r),l("#thumbzilla img").css({width:o,height:r}),l("#thumbzilla img:last").offset().top+r<=i)break}return l("#thumbzilla div").center(),l("#opscreen1M").hide().css("visibility","visible").fadeIn("slow").one("click.opscreen1M.nixer",function(){return l("#opscreen1M").fadeOut("slow")}),!1}},{key:"nav_tophat_wb_setup",value:function(){var t="https://web.archive.org",n=t+"/web/*/",a=t+"/web/*/";function i(e){0===e.indexOf("http://")||0===e.indexOf("https://")||e.match(/[\w.]{2,256}\.[a-z]{2,4}/gi)?document.location.href=n+e:document.location.href=a+encodeURIComponent(e)}var o=l("#nav-wb-url"),r=o.parent("form");r.submit(function(t){return e.fireAnalyticsTrackingEvent("HomePageWayback","SearchForm"),i(o.val()),t.preventDefault(),!1}),o.on("focus input paste",function(){void 0===o.typeahead&&l.ajax({url:"/includes/node_modules/bootstrap-3-typeahead/bootstrap3-typeahead.min.js",dataType:"script",cache:!0}).done(function(){o.typeahead({source:function(e,t){return o.focus(),l.get("https://web.archive.org/__wb/search/host?q="+encodeURIComponent(e),function(n){return void 0!==n.hosts&&n.hosts.length>0?t(n.hosts):void 0!==n.isUrl&&!0===n.isUrl&&void 0===n.excluded?t([{display_name:e}]):l.get("https://web.archive.org/__wb/search/anchor?q="+encodeURIComponent(e),function(e){if(void 0!==e&&e.length>0)return t(e.slice(0,5))})})},matcher:function(){return!0},displayText:function(e){return e.display_name},autoSelect:!1,delay:400,fitToElement:!1,minLenght:3,items:8}).change(function(){var e=o.typeahead("getActive");e&&e.display_name===o.val()&&r.submit()}).on("keyup",function(t){if(10===t.which||13===t.which)return e.fireAnalyticsTrackingEvent("HomePageWayback","SearchForm"),i(o.val()),t.preventDefault(),!1})})})}},{key:"openPopup",value:function(e,t,n){var a={height:t,width:e,scrollbars:"yes",resizable:"yes",toolbar:"no",directories:"no",location:"yes",menubar:"no",status:"yes"},i=Object.keys(a).filter(function(e){return a[e]}).reduce(function(e,t){return e.concat(t+"="+a[t])},[]).join(",");window.open(n,"popup",i)}},{key:"PopupLink",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.children,a=t.href,i=t.height,o=t.width,r=t.title;return React.createElement("a",{href:a,title:r,onClick:function(t){return t.preventDefault(),e.openPopup(o,i,a)}},n)}},{key:"setUpCreativeCommonsLicenseLink",value:function(){var t=document.querySelector("#creative_commons_license_link_react");t&&ReactDOM.render(React.createElement(e.CreativeCommonsLicenseLink,{href:t.dataset.href,licenseName:t.dataset.licenseName,licenseSelected:"true"===t.dataset.licenseSelected}),t)}},{key:"setUpSearchForms",value:function(){var e=l(document.body);function t(t){var n=l(t),a=n.find(".js-search-bar"),i=n.find(".js-search-options"),o=i.data("keepOpenWhenChanged"),r=!1;function s(e){!e||n[0].contains(e)||o&&r||i.removeClass("is-open").attr("aria-expanded",!1)}n.length&&(n.on("submit",function(e){var t=this.dataset.waybackMachineSearchUrl,n=l(this.elements),a=n.filter('[name="sin"]:checked'),i=n.filter('[name="search"]'),o=a.length?a[0].value:"",r=i.length?i[0].value:"";t&&"WEB"===o&&(e.preventDefault(),window.location=[t.replace(/\/$/,""),r].join("/"))}),i.hasClass("is-open")||(e.on("click",function(e){s(e.target)}),n.on("change",function(){r=!0}).on("focusout",function(e){s(e.relatedTarget)}),a.on("focusin",function(){i.addClass("is-open").attr("aria-expanded",!0)})))}l(".js-search-form").each(function(e,n){return t(n)})}},{key:"setUpBookReaderIframe",value:function(){var e=document.querySelector("#texty iframe");e&&e.hasAttribute("data-book-reader-sync-urls")&&window.addEventListener("message",function(e){e.data&&"bookReaderFragmentChange"===e.data.type&&function(e){if("history"in window){var t,n,a,i=(t=window.location.pathname,n=e,a=/(\/((page|mode|search)\/[^\/?$]+))+\/?(?=\?|$)/g,(t.match(a)?t.replace(a,"/"+n):(t+"/"+n).replace(/\/+/g,"/"))+window.location.search+window.location.hash);window.history.replaceState({fragment:e},window.title,i)}}(e.data.fragment)})}},{key:"setUpAccordions",value:function(){Array.from(document.querySelectorAll("[data-accordion]")).forEach(function(e){function t(t){var n,a;t.target.open&&(n=e.querySelectorAll("details"),a=t.target,Array.from(n).forEach(function(e){e!==a&&(e.open=!1)}),l("html, body").animate({scrollTop:l(t.target).offset().top},400))}Array.from(e.querySelectorAll("details")).forEach(function(e){e.addEventListener("toggle",t)}),e.setAttribute("data-accordion-ready","")})}},{key:"advanced_search",value:function(t){if(!e.is_advanced_TV_search(t))return!0;e.adv||(e.adv={mapping:!1});var n=(new Date).toISOString().substr(0,10);l.ajaxSetup({cache:!0});var a="https://archive.org/includes/";return l.when("undefined"!=typeof TV||l.getScript(a.concat("tv.min.js?",n)),"undefined"!=typeof TVSearch||l.getScript(a.concat("build/js/tvsearch.min.js?",n)),l.ui||l.getScript(a.concat("jquery-ui-1.10.3.min.js")),l.ui||l.get("/includes/redmond/jquery-ui-1.10.3.min.css",function(e){l("<style />").html(e).appendTo("head")}),e.adv.mapping||l.getJSON("/details/tv?mappings&output=json&".concat(n),function(t){e.adv.mapping=t})).then(function(){2===e.adv.mapping.length?TVSearch.proPick(e.adv.mapping,t):alert("failed to get network and program mappings!")}),!1}},{key:"is_advanced_TV_search",value:function(e){if("web.archive.org"===location.hostname)return!1;if(l(document.body).hasClass("top"))return!1;var t=l(e).parents("form");return!!t.find(".js-search-options input[value=TV]").is(":checked")&&t}},{key:"fireAnalyticsTrackingEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:location.pathname;"undefined"!=typeof archive_analytics&&archive_analytics.send_ping({kind:"event",ec:e,ea:t,el:n,cache_bust:Math.random()})}},{key:"setUpActionTracking",value:function(){function t(t){return function(n){var a=l(n.currentTarget);if(a){var i=a.data(t);if(i){var o=i.split("|");e.fireAnalyticsTrackingEvent(o[0],o[1])}}}}l(document.body).on("click","[data-event-click-tracking]",t("event-click-tracking")),l("form[data-event-form-tracking]").on("submit",t("event-form-tracking"))}},{key:"setupPopupLink",value:function(){l(document.body).on("click","[data-popup-link]",function(t){t.preventDefault();var n=l(t.currentTarget),a=n.data("popup-link-width")||500,i=n.data("popup-link-height")||500;e.openPopup(a,i,t.currentTarget.href)})}},{key:"RelatedItemSection",value:function(e){var t=e.dataHash,n=void 0===t?[]:t;return React.createElement("section",{"aria-label":"Related Items"},n.map(function(e){return React.createElement("div",{className:"results"},React.createElement("div",{className:"item-ia","data-id":e.identifier,"data-mediatype":e.mediatype,"data-year":""},React.createElement("a",{className:"stealth",tabIndex:"-1",href:"/details/"+e.identifier},React.createElement("div",{className:"hidden-tiles views C C1"},React.createElement("span",{className:"hidden-xs"},e.downloads),React.createElement("span",{className:"hidden-sm hidden-md hidden-lg"},e.downloads))),React.createElement("div",{className:"C234"},React.createElement("div",{className:"item-ttl "+e.lendClass+" C C2"},React.createElement("a",{href:"/details/"+e.identifier,title:e.title,"data-event-click-tracking":"GenericNonCollection|ItemTile"},React.createElement("div",{className:"tile-img"},React.createElement("img",{className:"item-img",alt:"",src:"/services/img/"+e.identifier})),!0===e.lendingEnabled&&!0===e.lendingAvailable&&React.createElement("div",{className:"tile-action hidden-lists"},"Borrow"),!0===e.lendingEnabled&&!1===e.lendingAvailable&&React.createElement("div",{className:"tile-action hidden-lists"},"Join Waitlist"),!0===e.loginRequired&&React.createElement("div",{className:"tile-action hidden-lists"},"Log in to view this item"),React.createElement("div",{className:"ttl"},e.title))),React.createElement("div",{className:"by C C4"},""!==e.creator&&React.createElement("div",null,React.createElement("span",{className:"hidden-lists"},"by "),React.createElement("span",{className:"byv",title:e.creator},e.creator)))),React.createElement("div",{className:"statbar "},React.createElement("div",{className:"mt-icon C C5"},React.createElement("span",{className:"iconochive-"+e.mediatype,"aria-hidden":"true"},""),React.createElement("span",{className:"sr-only"},e.mediatype)),React.createElement("h6",{className:"stat"},React.createElement("span",{className:"iconochive-eye","aria-hidden":"true"},""),React.createElement("span",{className:"sr-only"},"eye"),React.createElement("span",null,e.downloads)),React.createElement("h6",{className:"stat"},React.createElement("span",{className:"iconochive-favorite","aria-hidden":"true"},""),React.createElement("span",{className:"sr-only"},"favorite"),e.favorite),React.createElement("h6",{className:"stat"},React.createElement("span",{className:"iconochive-comment","aria-hidden":"true"},""),React.createElement("span",{className:"sr-only"},"comment"),e.numReviews))))}))}},{key:"RegionsTable",value:function(e){var t=e.caption,n=void 0===t?"Regions":t,a=e.captionClass,i=void 0===a?"":a,o=e.counts,r=void 0===o?[]:o;return React.createElement("table",{className:"stats-table"},React.createElement("caption",{className:i},n),React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{scope:"col"},"Region"),React.createElement("th",{scope:"col"},"Country"),React.createElement("th",{className:"stats-table__numeric-column",scope:"col"},"Views"))),React.createElement("tbody",null,r.map(function(e){return React.createElement("tr",{key:e.state.code+"_"+e.country.code+"_"+e.count},React.createElement("td",null,e.state.formattedName),React.createElement("td",null,e.country.formattedName),React.createElement("td",{className:"stats-table__numeric-column"},e.formattedCount))})))}},{key:"LoadingMessage",value:function(e){var t=e.message,n=void 0===t?"Loading":t;return React.createElement("small",{className:"loading-message"},n)}},{key:"ErrorMessage",value:function(e){var t=e.errorMsg;return React.createElement("small",null,t)}},{key:"setUpTopRegionsTable",value:function(){var t=l(".js-top-regions-table"),n=t.find(".js-top-regions-message"),a=n.text();if(t&&n){ReactDOM.render(React.createElement(e.LoadingMessage,{message:"loading data"}),n[0]);var i={uaKinds:["non_robot","unrecognized"]};t.data("days")&&(i.days=parseInt(t.data("days"),10)),t.data("limit")&&(i.limit=parseInt(t.data("limit"),10)),e.StatsApiClient.getGeoCounts(t.data("identifier"),i).then(function(n){ReactDOM.render(React.createElement(e.RegionsTable,{caption:t.data("caption"),captionClass:t.data("captionClass"),counts:n}),t[0])},function(){n.text(a)})}}}]),e}();d.TILE_WIDTH=180,d.TILE_WIDTH_SMALL=150,d.ios=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,d.page_map={},d.cgi_args={};var u=function(){function e(){s(this,e)}return i(e,null,[{key:"setup",value:function(t,n,a,i){e.c.realGraphWidth=e.c.GRAPH_WIDTH-e.c.GRAPH_PADDING,e.c.maxSlide=Math.floor((i.getTime()-a.getTime())/864e5);var o=a.getTime()/1e3,r=t>0?Math.floor((t-o)/86400):0,s=n>0?Math.floor((n-o)/86400):e.c.maxSlide,d=l("<div />").attr({id:"slider"}).css({width:e.c.realGraphWidth,position:"absolute",top:e.c.GRAPH_HEIGHT-10,left:0,zIndex:1});l("#timegraf").append(d),d.append("<br />"),c(r,s),l("#slider").slider({range:!0,max:e.c.maxSlide,values:[r,s],slide:function(t,n){var i=a.getTime(),o=new Date(i),r=new Date(i);o.setDate(o.getDate()+n.values[0]),r.setDate(r.getDate()+n.values[1]),l("#from ").html(l.datepicker.formatDate("M d",o)),l("#to   ").html(l.datepicker.formatDate("M d",r)),l("#fromB").html(l.datepicker.formatDate("yymmdd",o)),l("#toB  ").html(l.datepicker.formatDate("yymmdd",r)),l("#datepickL").val(l.datepicker.formatDate("mm/dd/yy",o)),l("#datepickR").val(l.datepicker.formatDate("mm/dd/yy",r)),clearTimeout(e.hideL),clearTimeout(e.hideR);var s={left:l("#slider .ptrL").offset().left-l("#from").width()+10},c={left:l("#slider .ptrR").offset().left};l("#from").offset(s).show(0,function(){e.hideL=setTimeout(function(){return l("#from").hide("slow")},2e3)}),l("#to  ").offset(c).show(0,function(){e.hideR=setTimeout(function(){return l("#to  ").hide("slow")},2e3)}),e.pinkme(n.values[0],n.values[1])},stop:function(t,n){e.adjust(n.values[0],n.values[1]),e.timechanged=!0;var a=location.href.replace(/^http[s]*:/,""),i="//"+location.host+e.c.q+e.args();a!==i&&(c(a),c(i),l("#opscreen1M").remove(),l("body").append(l('<div id="opscreen1M"/>')),l("#opscreen1M").show("slow",function(){location.href=i}))}}),(r>0||s>0)&&e.pinkme(r,s)}},{key:"pinkme",value:function(t,n){var a=Math.round(e.c.GRAPH_PADDING/2),i=Math.round(t/e.c.maxSlide*e.c.realGraphWidth)+2,o="rect(0px,"+(Math.round(n/e.c.maxSlide*e.c.realGraphWidth)-2+a)+"px,"+e.c.GRAPH_HEIGHT+"px,"+i+"px)";c(o),l("#timegraf-clip").css("clip",o);var r={"data-title":"click and drag this to change time period","data-toggle":"tooltip","data-placement":"bottom"};l(l("#slider a").get(0)).attr(r).removeClass("ui-state-default").addClass("ptrL"),l(l("#slider a").get(1)).attr(r).removeClass("ui-state-default").addClass("ptrR"),e.adjust(t,n)}},{key:"adjust",value:function(e,t){var n=t-e<2;c("left:",e,"rite:",t),n?(l("#to").hide(),l("#slider .ui-widget-header").css("borderColor","#d33682"),l("#slider .ui-widget-header").css("border-left-width",0)):(l("#slider .ui-widget-header").css("borderColor","#d33682"),l("#slider .ui-widget-header").css("border-left-width",2))}},{key:"args",value:function(){if(!e.timechanged)return"";var t=l("#fromB").text().trim(),n=l("#toB  ").text().trim();return"&time="+t+(t===n?"":"-"+n)}}]),e}();u.timechanged=!1,u.c={},function(){var e=function(){function e(t){var n=t.code,a=t.name;s(this,e),this.code=n,this.name=a}return i(e,[{key:"formattedName",get:function(){return(e=this.name).charAt(0).toUpperCase()+e.slice(1);var e}}]),e}(),t=function(){function e(t){var n=t.count,a=t.country,i=t.state;s(this,e),this.count=parseInt(n,10),this.country=a,this.state=i}return i(e,[{key:"formattedCount",get:function(){return d.addCommas(this.count)}}]),e}();function n(n){return new t({count:n.sum_count_value,country:new e({code:n.geo_country,name:n.country}),state:new e({code:n.geo_state,name:n.state})})}d.StatsApiClient=function(){function e(){s(this,e)}return i(e,null,[{key:"getGeoCounts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.days,i=void 0===a?30:a,o=t.limit,r=void 0===o?100:o,s=t.uaKinds,c=void 0===s?["robot","non_robot","unrecognized"]:s,d="https://be-api.us.archive.org/views/v1/detail/collection/"+e+"/"+i;return l.get(d).then(function(e){try{return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).uaKinds,a=void 0===t?["robot","non_robot","unrecognized"]:t;if(!e.counts_geo)throw new RangeError("API response doesn't contain property 'counts_geo'.");for(var i,o={},r=0;r<e.counts_geo.length;r++){var s=e.counts_geo[r];if(i=s.ua_kind,-1!==a.indexOf(i)&&"unknown"!==s.country){var l=s.geo_country+"_"+s.geo_state;o[l]?o[l].count+=s.sum_count_value:o[l]=n(s)}}return Object.keys(o).map(function(e){return o[e]})}(e,{uaKinds:c}).sort(function(e,t){return e.count<t.count?1:-1}).slice(0,r)}catch(e){return l.Deferred().reject(e)}})}}]),e}()}(),d.CreativeCommonsLicenseLink=React.createClass({displayName:"CreativeCommonsLicenseLink",DEFAULT_LINK_TEXT:"Choose license",defaultProps:{licenseName:void 0,licenseSelected:!1},getInitialState:function(){return{licenseSelected:this.props.licenseSelected,linkText:this.props.licenseName||this.DEFAULT_LINK_TEXT,oldLicenseName:this.props.licenseName}},componentWillReceiveProps:function(e){this.setState({licenseSelected:e.licenseSelected,linkText:e.licenseName||this.DEFAULT_LINK_TEXT})},removeLicense:function(){this.setState({licenseSelected:!1,linkText:this.DEFAULT_LINK_TEXT}),this.removeRetainLicenseInput()},removeRetainLicenseInput:function(){var e=document.getElementById("retaincclicense");e.parentNode.removeChild(e)},wasLicensedChanged:function(){return this.state.oldLicenseName!==this.state.linkText},getLicenseChangeMessage:function(){return this.state.oldLicenseName&&this.wasLicensedChanged()?"Change license (currently "+this.state.oldLicenseName+")":""},render:function(){return React.createElement("span",null,React.createElement(d.PopupLink,{href:this.props.href,height:"600",width:"600",title:this.getLicenseChangeMessage()},this.state.linkText)," ",this.state.licenseSelected&&React.createElement("span",null,"(",React.createElement("button",{type:"button",className:"creativecommons-remove-license-button",onClick:this.removeLicense},"remove"),")"))}}),d.MORFreact=React.createClass({displayName:"MORFreact",FACETS_PER_PAGE:100,getInitialState:function(){return{page:1,href:"",mounted:!1,hdr:"",options:[]}},getFacets:function(){var e=this;l.getJSON(this.props.href+"&headless=1&output=json",function(t){t.href=e.props.href,t.mounted=!0,c(t),e.setState(t);for(var n=0;n<t.checked.length;n++)for(var a=0;a<e.state.options.length;a++){var i=e.state.options[a].val;if(t.checked[n]==i){e.refs[i].checked=!0;break}}})},componentDidMount:function(){c("mounted"),this.getFacets()},pageClick:function(e){e.stopPropagation(),e.preventDefault();var t=""===l(e.target).text()?this.state.page+1:parseInt(l(e.target).text(),10);this.setState({page:t})},submitClick:function(){c("submitted");for(var e=this.state.submit,t=0;t<this.state.options.length;t++){var n=this.state.options[t].val;if(this.refs[n].checked){var a="&and[]="+this.state.morf+'%3A"'+encodeURIComponent(n)+'"';c("checked",n,"=>",a),e+=a}}c(e),location.href=e},render:function(){var e=this;c("rendering..");var t=!this.state.mounted;""!==this.state.href&&this.props.href!==this.state.href&&(t=!0,this.getFacets()),l("#morf-modal .modal-title").html(t?"":this.state.hdr);var n=(this.state.page-1)*this.FACETS_PER_PAGE,a=n+this.FACETS_PER_PAGE-1,i=this.state.options.map(function(i,o){return React.createElement("div",{className:o>=n&&o<=a&&!t?"farow":"farow hidden",key:i.val},React.createElement("div",{className:"facell"},React.createElement("input",{onClick:e.handleClick,type:"checkbox",name:i.val,value:i.val,ref:i.val})),React.createElement("div",{className:"facell"},d.addCommas(i.n)),React.createElement("div",{className:"facell"},i.txt?i.txt:i.val))}),o=[],r=Math.ceil(this.state.options.length/this.FACETS_PER_PAGE),s="";if(t)s=React.createElement("div",{style:{"font-style":"italic",margin:"25px","text-align":"center"}},"loading filters...",React.createElement("img",{alt:"",style:{width:"25px"},key:t,src:"/images/loading.gif"}));else{var u=1;for(u=1;u<=r;u++)this.state.page===u?o.push(React.createElement("div",{key:"p".concat(u),className:"topinblock"},u)):o.push(React.createElement("a",{href:"#".concat(u),key:"p".concat(u),onClick:this.pageClick},u)),o.push(" ");if(this.state.page<r){var f=React.createElement("a",{href:"#".concat(u),key:"pp".concat(u),onClick:this.pageClick},React.createElement("span",{className:"iconochive-right-solid"}));o.push(f)}}return React.createElement("div",{id:"morf-page"},React.createElement("form",null,React.createElement("div",{className:"fatable facet-subject"},i),s,React.createElement("div",{id:"morf-paging"},o),React.createElement("center",null,React.createElement("input",{className:t?"btn-primary hidden":"btn-primary",type:"button",value:"Apply your filters",onClick:this.submitClick}))))}}),l.cookie=function(e,t,n){if(void 0!==t){n=n||{},null===t&&(t="",n.expires=-1);var a,i="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString))"number"==typeof n.expires?(a=new Date).setTime(a.getTime()+24*n.expires*60*60*1e3):a=n.expires,i="; expires="+a.toUTCString();var o=n.path?"; path="+n.path:"",r=n.domain?"; domain="+n.domain:"",s=n.secure?"; secure":"";return navigator.userAgent.indexOf("MSIE 9.")>0&&(r="",o=""),document.cookie=[e,"=",encodeURIComponent(t),i,o,r,s].join(""),!0}var c=null;if(document.cookie&&""!=document.cookie)for(var d=document.cookie.split(";"),u=0;u<d.length;u++){var f=l.trim(d[u]);if(f.substring(0,e.length+1)==e+"="){c=decodeURIComponent(f.substring(e.length+1));break}}return c},l.fn.center=function(){var e=this.height()+parseInt(this.css("padding-top"),10)+parseInt(this.css("padding-bottom"),10);c("myheight",e),c("mywidth",this.width()),c("w.height",l(window).height(),"w.width",l(window).width(),"w.scrollTop",l(window).scrollTop(),"w.scrollLeft",l(window).scrollLeft());var t=void 0,n=void 0;if(d.ios){var a=window.innerWidth,i=window.innerHeight;c("vpH",i),c("vpW",a),t=(i-e)/2+l(window).scrollTop(),n=(a-this.width())/2+l(window).scrollLeft()}else t=(l(window).height()-e)/2,n=(l(window).width()-this.width())/2;return t=Math.max(20,t),n=Math.max(20,n),this.css({position:d.ios?"absolute":"fixed",display:"block",top:t,left:n}),this},l(function(){d.makeMouseElementAccessible(".accessible-link"),d.setUpActionTracking(),d.nav_tophat_setup(),d.nav_tophat_wb_setup(),d.setupPopupLink(),d.setUpCreativeCommonsLicenseLink(),d.setUpSearchForms(),d.setUpBookReaderIframe(),d.setUpAccordions(),d.setUpRelatedItems(),(0,o.default)(),"undefined"!=typeof archive_setup&&l(function(){var e=!0,t=!1,n=void 0;try{for(var a,i=archive_setup[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){(0,a.value)()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}),d.footer()}),window.AJS=d,window.Timegraf=u},function(e,t){!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"./src/scripts/index.js":
/*!******************************!*\
  !*** ./src/scripts/index.js ***!
  \******************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={}},"./src/styles/index.less":
/*!*******************************!*\
  !*** ./src/styles/index.less ***!
  \*******************************/
/*! no static exports found */function(e,t){},0:
/*!************************************************************!*\
  !*** multi ./src/scripts/index.js ./src/styles/index.less ***!
  \************************************************************/
/*! no static exports found */function(e,t,n){n(/*! /Users/mitra/Library/Caches/Yarn/v4/.tmp/f85d5c6dbf48ced4703e8bc19ab1e947.5c04a7b880a402fa16e48933f5ca7327747203dc.prepare/src/scripts/index.js */"./src/scripts/index.js"),e.exports=n(/*! /Users/mitra/Library/Caches/Yarn/v4/.tmp/f85d5c6dbf48ced4703e8bc19ab1e947.5c04a7b880a402fa16e48933f5ca7327747203dc.prepare/src/styles/index.less */"./src/styles/index.less")}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(4),o=(a=i)&&a.__esModule?a:{default:a};function r(e,t){var n=e.querySelector("output");n||((n=document.createElement("output")).setAttribute("role","alert"),e.appendChild(n)),n.textContent="",n.textContent=t}function s(e){e.querySelector("input")&&(e.appendChild(function(e){var t=document.createElement("button");return t.type="button",t.textContent="Copy",t.title="Copy to clipboard",t.setAttribute("data-clipboard-target","#"+e.querySelector("input").id),t}(e)),e.setAttribute("data-copyable-text-ready",""))}t.default=function(){var e,t=document.querySelectorAll("[data-copyable-text]:not([data-copyable-text-ready])");t.length<=0||o.default.isSupported()&&([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)).forEach(s),(e=new o.default("[data-copyable-text] [data-clipboard-target]")).on("success",function(e){var t=e.trigger.parentElement,n=t.getAttribute("data-copyable-text-success-message")||"Text copied to clipboard.";r(t,n)}),e.on("error",function(e){var t=e.trigger.parentElement,n=t.getAttribute("data-copyable-text-error-message")||"Something went wrong.";r(t,n)}))}},function(e,t,n){
/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT  Zeno Rocha
 */
var a;a=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(1)),r=l(n(3)),s=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.resolveOptions(n),a.listenClick(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===a(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return d("action",e)}},{key:"defaultTarget",value:function(e){var t=d("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return d("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}();function d(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=c},function(e,t,n){"use strict";var a,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),s=(a=r)&&a.__esModule?a:{default:a};var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,s.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,s.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=l},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var a=window.getSelection(),i=document.createRange();i.selectNodeContents(e),a.removeAllRanges(),a.addRange(i),t=a.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var a=this;function i(){a.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),a=0,i=n.length;a<i;a++)n[a].fn.apply(n[a].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),a=n[e],i=[];if(a&&t)for(var o=0,r=a.length;o<r;o++)a[o].fn!==t&&a[o].fn._!==t&&i.push(a[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},function(e,t,n){var a=n(5),i=n(6);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(a.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(a.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var a=n(7);function i(e,t,n,i,o){var r=function(e,t,n,i){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&i.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,r,o),{destroy:function(){e.removeEventListener(n,r,o)}}}e.exports=function(e,t,n,a,o){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return i(e,t,n,a,o)}))}},function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}}])},e.exports=a()},function(e,t,n){e.exports=n.p+"archive.min.css"}]);
//# sourceMappingURL=archive.min.js.map